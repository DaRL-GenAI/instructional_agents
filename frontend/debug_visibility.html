<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è°ƒè¯•ï¼šæ£€æŸ¥å…ƒç´ å¯è§æ€§</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 10px 0;
            border: 2px solid #ddd;
            border-radius: 5px;
        }
        .found { color: green; }
        .not-found { color: red; }
        .hidden { color: orange; }
        .visible { color: blue; }
        button {
            padding: 10px 20px;
            margin: 5px;
            background: #4f46e5;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        pre {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>ğŸ” å…ƒç´ å¯è§æ€§è°ƒè¯•å·¥å…·</h1>
    
    <div class="test-section">
        <h2>æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨</h2>
        <button onclick="checkElements()">æ£€æŸ¥æ‰€æœ‰å…ƒç´ </button>
        <div id="element-check"></div>
    </div>
    
    <div class="test-section">
        <h2>å¼ºåˆ¶æ˜¾ç¤ºè¿›åº¦åŒºåŸŸ</h2>
        <button onclick="showProgressSection()">æ˜¾ç¤ºè¿›åº¦åŒºåŸŸ</button>
        <button onclick="hideProgressSection()">éšè—è¿›åº¦åŒºåŸŸ</button>
        <div id="show-result"></div>
    </div>
    
    <div class="test-section">
        <h2>æµ‹è¯•æ—¥å¿—åŠŸèƒ½</h2>
        <button onclick="testAppendLog()">æµ‹è¯• appendLog å‡½æ•°</button>
        <div id="log-test-result"></div>
    </div>
    
    <script>
        function checkElements() {
            const elements = [
                'progress-section',
                'logs-section',
                'logs-container',
                'clear-logs-btn',
                'progress-bar',
                'progress-text'
            ];
            
            let html = '<h3>å…ƒç´ æ£€æŸ¥ç»“æœï¼š</h3><pre>';
            
            elements.forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    const display = window.getComputedStyle(el).display;
                    const visibility = window.getComputedStyle(el).visibility;
                    const opacity = window.getComputedStyle(el).opacity;
                    
                    html += `<span class="found">âœ“</span> ${id}: å­˜åœ¨\n`;
                    html += `   display: ${display}\n`;
                    html += `   visibility: ${visibility}\n`;
                    html += `   opacity: ${opacity}\n`;
                    html += `   offsetHeight: ${el.offsetHeight}\n`;
                    html += `   offsetWidth: ${el.offsetWidth}\n\n`;
                } else {
                    html += `<span class="not-found">âœ—</span> ${id}: ä¸å­˜åœ¨\n\n`;
                }
            });
            
            html += '</pre>';
            document.getElementById('element-check').innerHTML = html;
        }
        
        function showProgressSection() {
            const progressSection = document.getElementById('progress-section');
            if (progressSection) {
                progressSection.style.display = 'block';
                progressSection.style.visibility = 'visible';
                progressSection.style.opacity = '1';
                document.getElementById('show-result').innerHTML = 
                    '<p class="visible">âœ… è¿›åº¦åŒºåŸŸå·²å¼ºåˆ¶æ˜¾ç¤º</p>';
            } else {
                document.getElementById('show-result').innerHTML = 
                    '<p class="not-found">âŒ æ‰¾ä¸åˆ° progress-section å…ƒç´ </p>';
            }
        }
        
        function hideProgressSection() {
            const progressSection = document.getElementById('progress-section');
            if (progressSection) {
                progressSection.style.display = 'none';
                document.getElementById('show-result').innerHTML = 
                    '<p class="hidden">âš ï¸ è¿›åº¦åŒºåŸŸå·²éšè—</p>';
            }
        }
        
        function testAppendLog() {
            // å°è¯•ä»ä¸»é¡µé¢åŠ è½½ appendLog å‡½æ•°
            if (typeof appendLog === 'function') {
                appendLog('ğŸ§ª è¿™æ˜¯æµ‹è¯•æ—¥å¿—æ¶ˆæ¯', 'info');
                appendLog('âœ… æˆåŠŸæ¶ˆæ¯æµ‹è¯•', 'success');
                appendLog('âŒ é”™è¯¯æ¶ˆæ¯æµ‹è¯•', 'error');
                document.getElementById('log-test-result').innerHTML = 
                    '<p class="found">âœ… appendLog å‡½æ•°å¯ç”¨ï¼Œå·²å‘é€æµ‹è¯•æ¶ˆæ¯</p>';
            } else {
                document.getElementById('log-test-result').innerHTML = 
                    '<p class="not-found">âŒ appendLog å‡½æ•°ä¸å¯ç”¨ï¼ˆéœ€è¦ä»ä¸»é¡µé¢åŠ è½½ï¼‰</p>';
            }
        }
        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ£€æŸ¥
        window.addEventListener('load', () => {
            setTimeout(checkElements, 500);
        });
    </script>
    
    <!-- åŠ è½½ä¸»é¡µé¢æ ·å¼å’Œè„šæœ¬ -->
    <link rel="stylesheet" href="styles.css">
    <script src="app.js"></script>
    
    <!-- å¤åˆ¶ä¸»é¡µé¢çš„è¿›åº¦åŒºåŸŸç”¨äºæµ‹è¯• -->
    <section id="progress-section" class="card" style="display: none;">
        <h2>ç”Ÿæˆè¿›åº¦</h2>
        <div id="progress-info">
            <div class="progress-bar-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            <p id="progress-text">åˆå§‹åŒ–ä¸­...</p>
            <p id="current-stage" class="stage-text"></p>
        </div>
        <div id="error-message" class="error-message" style="display: none;"></div>
        
        <!-- Real-time Logs -->
        <div id="logs-section" style="margin-top: 20px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                <h3 style="margin: 0;">å®æ—¶æ—¥å¿—</h3>
                <button type="button" id="clear-logs-btn" class="btn btn-secondary" style="width: auto; padding: 6px 12px; font-size: 0.875rem;">
                    ğŸ—‘ï¸ æ¸…ç©ºæ—¥å¿—
                </button>
            </div>
            <div id="logs-container" class="logs-container">
                <p class="logs-placeholder">ç­‰å¾…æ—¥å¿—è¾“å‡º...</p>
            </div>
        </div>
    </section>
</body>
</html>

